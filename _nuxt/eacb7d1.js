(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{546:function(t,e,n){"use strict";n.r(e);var r=n(230),o=n(487),l=n(485),c=n(513),d=n(214),_=n(479),v=(n(38),{props:{id:{type:Number,default:0}},data:function(){return{dialog:!1}},methods:{deleteItem:function(t){this.dialog=!1,this.$emit("ok",t)}}}),m=n(99),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e(c.a,{attrs:{persistent:"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({attrs:{color:"red",text:""}},"v-btn",l,!1),o),[t._v("\n      حذف\n      "),e(d.a,[t._v("delete")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),e(o.a,[e(l.c,{staticClass:"text-h5 text-right"},[t._v("\n      حذف الطلب\n    ")]),t._v(" "),e(l.b,{staticClass:"text-right"},[e("p",[t._v("هل تريد حذف الطلب ؟"+t._s(t.id))]),t._v('\n      باختيار "نعم" سيتم حذف الطلب\n    ')]),t._v(" "),e(l.a,[e(_.a),t._v(" "),e(r.a,{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n        لا\n      ")]),t._v(" "),e(r.a,{staticClass:"text-white",attrs:{color:"green"},on:{click:function(e){return t.deleteItem(t.id)}}},[t._v("\n        نعم\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},571:function(t,e,n){"use strict";n.r(e);var r=n(230),o=n(487),l=n(485),c=n(513),d=n(214),_=n(479),v={props:{id:{type:String,default:""}},data:function(){return{dialog:!1}},methods:{deleteItem:function(t){this.dialog=!1,this.$emit("ok",t)}}},m=n(99),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e(c.a,{attrs:{persistent:"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({staticClass:"m-4 mr-0 ml-1",attrs:{color:"red",text:""}},"v-btn",l,!1),o),[e(d.a,[t._v("mdi-close")]),t._v("\n      حذف\n    ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),e(o.a,[e(l.c,{staticClass:"text-h5 text-right"},[t._v("\n      حذف الأثاث من الطلب\n    ")]),t._v(" "),e(l.b,{staticClass:"text-right"},[e("p",[t._v("هل تريد حذف الأثاث من الطلب "+t._s(t.id)+"؟")]),t._v('\n      باختيار "نعم" سيتم حذف الأثاث من الطلب\n    ')]),t._v(" "),e(l.a,[e(_.a),t._v(" "),e(r.a,{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n        لا\n      ")]),t._v(" "),e(r.a,{staticClass:"text-white",attrs:{color:"green"},on:{click:function(e){return t.deleteItem(t.id)}}},[t._v("\n        نعم\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},594:function(t,e,n){"use strict";n.r(e);var r=n(230),o=n(487),l=n(485),c=n(481),d=n(214),_=n(655),v=n(544),m=n(539),f=n(479),h=n(654),k=n(674),x=n(673),y=n(634),w=n(543),C=n(635),$=(n(20),n(1),n(571)),D={components:{deleteDialog:n(546).default,detachMaterialDialog:$.default},props:{demandes:{type:Array,default:function(){return[]}},pagination_meta:{type:Object,default:function(){return{current:1,total:0}}}},data:function(){return{rules:[function(t){return!!t||"الكمية مطلوبة و يجب ان تكون رقما"}],tab:null,items:["المعلومات الاساسية","الاثاث المطلوب"],pagination:5,page:this.pagination_meta.current}},watch:{demandes:function(){}},methods:{setQte:function(t,e,n){this.$emit("setQte",t,e,n)},rem:function(t,e){this.$emit("rem",t,e)},status:function(t){return t.some((function(t){return 0!==t.pivot.status}))}}},I=n(99),component=Object(I.a)(D,(function(){var t=this,e=t._self._c;return e("div",[t._l(t.demandes,(function(n){return e("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.demandes.length,expression:"demandes.length != 0"}],key:n.id+"i"},[e(o.a,[e(x.a,{attrs:{"align-with-title":""}},[e(y.a),t._v(" "),t._l(t.items,(function(n){return e(h.a,{key:n},[t._v("\n          "+t._s(n)+"\n        ")])})),t._v(" "),e(k.a,[e(c.a,{attrs:{"p-4":""}},[e(v.a,[e("span",{staticClass:"h6"},[t._v("الرسالة :")]),t._v("\n              "+t._s(n.message)+"\n            ")]),t._v(" "),e(v.a,[e("span",{staticClass:"h6"},[t._v("تاريخ الارسال :")]),t._v("\n              "+t._s(n.created_at)+"\n            ")]),t._v(" "),e(v.a,[e("span",{staticClass:"h6"},[t._v("تاريخ الطلب :")]),t._v("\n              "+t._s(n.date_demande)+"\n            ")]),t._v(" "),e(v.a,[e("span",{staticClass:"h6"},[t._v("تاريخ الارجاع :")]),t._v("\n              "+t._s(n.date_fin_demande)+"\n            ")])],1)],1),t._v(" "),e(k.a,[e(c.a,{attrs:{"p-4":""}},[t._l(n.materiels,(function(o){return e(v.a,{key:o.id},[e(w.a,{staticStyle:{width:"100px"},attrs:{label:"الكمية",type:"number",step:"1",min:"1",rules:t.rules,max:"100"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setQte(n.id,o.id,o.pivot.quantity)}},model:{value:o.pivot.quantity,callback:function(e){t.$set(o.pivot,"quantity",e)},expression:"materiel.pivot.quantity"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("\n                  "+t._s(o.name)+"\n                ")])]),t._v(" "),1!=o.pivot.status?e(r.a,{staticClass:"m-4 mr-0 ml-1 mr-1",attrs:{color:"success",text:""},on:{click:function(e){return t.setQte(n.id,o.id,o.pivot.quantity)}}},[e(d.a,[t._v("mdi-check")]),t._v("\n                تحديث\n              ")],1):t._e(),t._v(" "),1!=o.pivot.status?e("detachMaterialDialog",{attrs:{id:o.name},on:{ok:function(e){return t.rem(n.id,o.id)}}}):t._e(),t._v(" "),e(C.a,{attrs:{bottom:"",color:0==o.pivot.status?"warning":1==o.pivot.status?"success":"red"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(d.a,t._g(t._b({attrs:{color:0==o.pivot.status?"warning":1==o.pivot.status?"success":"red"}},"v-icon",l,!1),r),[t._v("\n                    "+t._s(0==o.pivot.status?"mdi-alert":1==o.pivot.status?"mdi-check":"mdi-close")+"\n                  ")])]}}],null,!0)},[t._v(" "),e("span",[t._v("\n                  "+t._s(0==o.pivot.status?"لم يقع الرد":1==o.pivot.status?"مقبول":"غير مقبول"))])])],1)})),t._v(" "),0==n.materiels.length?e(v.a,[e("span",{staticClass:"h5"},[t._v(" لا يوجد اثاث ")])]):t._e()],2)],1)],2),t._v(" "),e(l.a,[e(f.a),t._v(" "),t.status(n.materiels)?t._e():e("deleteDialog",{attrs:{id:n.id},on:{ok:function(e){return t.$emit("deleteItem",n.id)}}}),t._v(" "),t.status(n.materiels)?t._e():e(r.a,{attrs:{color:"warning darken-1",text:""},on:{click:function(e){return t.$emit("edit",n)}}},[t._v("\n          تعديل\n          "),e(d.a,[t._v("edit")])],1)],1)],1),t._v(" "),e("br")],1)})),t._v(" "),0==t.demandes.length?e(o.a,[e(l.c,[e("h1",[t._v("لا يوجد طلبات")])]),t._v(" "),e(l.b,[e("p",[t._v("لم تقم بإرسال طلبات بعد")])]),t._v(" "),e(l.a,[e(r.a,{attrs:{color:"teal accent-4"}},[t._v("\n        طلب جديد\n      ")])],1)],1):t._e(),t._v(" "),e(_.a,{attrs:{length:t.pagination_meta.total},on:{input:function(e){return t.$emit("getDemandeMateriel",{},t.pagination,t.page)}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),t._v(" "),e(m.a,{attrs:{items:[5,10,15,30,50,100],label:"عدد الصفوف"},on:{input:function(e){return t.$emit("getDemandeMateriel",{},t.pagination)}},model:{value:t.pagination,callback:function(e){t.pagination=e},expression:"pagination"}})],2)}),[],!1,null,null,null);e.default=component.exports}}]);